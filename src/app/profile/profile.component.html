<mat-spinner style="margin:0 auto;" *ngIf="loading"></mat-spinner>
<div class="show-profile" *ngIf="!searching">

    <div id="zero"><p>Nom d'utilisateur : <span>{{profile?.userName}}</span></p></div>
    <div id="first">
        <p>Prénom : <span>{{profile?.firstname}}</span></p>
        <p>Nom : <span>{{profile?.lastname}}</span></p>
    </div>
    <div id="second">
        <p>Service : <span>{{profile?.service}}</span></p>
        <p>e-mail : <span>{{profile?.email}}</span></p>
    </div>
    
    <div id="aboutMe" *ngIf="aboutMe"><p>A propos de moi : <span>{{aboutMe}}</span></p></div>
</div>

<p class="noUser mx-auto">{{noUser}}</p>

<button mat-raised-button color="primary" class="mr-2" *ngIf="!fromList && !searching && !fromUsersList && !isMine" routerLink="/publications/{{fromPost}}">Retour publication</button>
<button mat-raised-button color="primary" class="mr-2" *ngIf="!searching" routerLink="/publications">Retour liste</button>

<button mat-raised-button color="primary" class="mr-2" *ngIf="!searching" (click)="onGetList()">Rechercher</button>
<button mat-raised-button color="primary" class="mr-2" *ngIf="isMine && !searching" routerLink="modify">Modifier Profil</button>
<button mat-raised-button color="primary" *ngIf="isMine && !searching" routerLink="settings">Paramètres</button>

<br/>
<br/>

<div *ngIf="!searching">
    <h3 *ngIf="publications?.length">Publications : </h3>
    <ul class="list-group">
        <app-user-publications  *ngFor="let publication of publications; let i = index"
            [publicationTitle]="publication.title"
            [publicationContent]="publication.content"
            [publicationDate]="publication.date_publication"
            [publicationLikes]="publication.likes"
            [publicationNumberComments]="publication.numberComments"
            [publicationUserName]="publication.userName"
            [publicationModerated]="publication.moderated"
            [fromProfile]="fromProfile"
            [index]="i" 
            [id]="publication.id">
        </app-user-publications>
    </ul>
</div>

<div class="search" *ngIf="searching">
    
    <button mat-raised-button class="mr-2" color="primary" (click)="onBackFromList()">Retour au profil</button>
    
    <button mat-raised-button color="primary" class="mr-2" type="submit" (click)="onSearch(inputUserName.value)">Chercher</button>
    <input id="window"  #inputUserName name="search">
    
</div>

<br/>
<br/>

<ul *ngIf="searching">
    <app-users-list *ngFor="let shortProfile of shortProfiles; let j = index"
        [userName]="shortProfile.userName"
        [firstname]="shortProfile.firstname"
        [lastname]="shortProfile.lastname"
        [service]="shortProfile.service">

    </app-users-list>
</ul>
