<div [ngClass]="{'single-publication': true,
'single-publication-like': likes === 1
                }" *ngIf="!loading">
    <h4 [ngStyle]="{color: 'purple'}">{{publication?.title}}</h4>
    <p>{{publication?.date_publication | date: 'EEEE d LLLL yyyy'}}</p>
    <div>{{publication?.content}}</div>
    <br/>
    <button class="btn btn-success mb-1" (click)="onLike()">Like it</button>
    <p>Commentaires : {{publication?.numberComments}}</p>
    
</div>

<!--
<li [ngClass]="{'comment-group-item': true}">
    <div class="see-comments">
        <p>{{username}}</p>
        <p>Date : {{commentDate | date: 'short' | lowercase}}</p>
        <p>{{commentContent}}</p>
    </div>
</li>
-->

<app-comment-list [id]="id"></app-comment-list>

<form [formGroup]="commentForm" *ngIf="!loading">
    <div class="form-group">
      <label for="comment">Commenter</label>
      <input type="comment" class="form-control" id="comment" formControlName="comment">
    </div>
    
    <button mat-raised-button color="purple" [disabled]="commentForm.invalid" (click)="onComment()">Envoyer</button>
    <!--<p class="text-danger" *ngIf="errorMsg">{{ errorMsg }}</p>-->  
</form>

<a routerLink="/publications">Retour Ã  la liste</a>
